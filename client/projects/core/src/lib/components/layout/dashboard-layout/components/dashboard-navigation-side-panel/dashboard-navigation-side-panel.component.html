<div class="navigation-panel">
  <div class="navigation-panel-brand">L<span [ngClass]="currentPanelState">ogo</span></div>
  <ul class="navigation-panel-menu" *ngIf="links && links.length > 0">
    
    <li class="navigation-panel-menu-item" *ngFor="let link of links" [class.active]="link?.isExpanded" [class.expanded]="link?.isExpanded">

      <ng-container *ngIf="link?.isSectionHeading; else menuItem">
        <a (click)="handleLinkExpansion(link)">
          <i class="fas fa-home" [ngClass]="link.iconClass"></i>
          <span [ngClass]="currentPanelState">{{ link.text }}</span>
          <i class="expansion-icon fas fa-chevron-left"></i>
        </a>
        <ul class="navigation-panel-submenu">
          <li class="navigation-panel-submenu-item" *ngFor="let subLink of link.subLinks">
            <a [routerLink]="subLink.url"
                [routerLinkActive]="['active']"
                [routerLinkActiveOptions]="{ exact: true }">
              {{ subLink.text }}  
            </a>
          </li>
        </ul>
      </ng-container>

      <ng-template #menuItem>
        <a [routerLink]="link.url" 
            [routerLinkActive]="['active']"
            [routerLinkActiveOptions]="{exact: true}">
          <i class="fas fa-home" [ngClass]="link.iconClass"></i>
          <span [ngClass]="currentPanelState">{{ link.text }}</span>
        </a>
      </ng-template>

    </li>
  </ul>
</div>